import{O as d,P as l,C as p}from"./vendor-b06d7aa0.js";const c=(e,r)=>{const o=p(r),u=localStorage.getItem(e);return u!=null&&o.set(JSON.parse(u)),o.subscribe(a=>{[null,void 0].includes(a)?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(a))}),window.addEventListener("storage",()=>{const a=localStorage.getItem(e);if(a==null)return;const t=JSON.parse(a);t!==l(o)&&o.set(t)}),o},i=p(!0),n=c("tools",[]),S=c("showAll",!1),w=c("searchQuery",""),m=d([n],([e])=>{const r=new Set;for(var o of e)o.language.map(u=>r.add(u));return r}),g=c("selectedLanguages",new Array),f=c("selectedTools",new Array),L=d([n,w,g,f],([e,r,o,u])=>{let a=e.filter(t=>r.toLowerCase().split(/[-./\\()"'\s,;<>~!@#$%^&*|+=[\]{}`~?:]/u).every(s=>t.name.toLowerCase().includes(s)||t.description.toLowerCase().includes(s)||t.modeling_paradigm.map(Function.prototype.call,String.prototype.toLowerCase).join(" ").includes(s)||t.language.map(Function.prototype.call,String.prototype.toLowerCase).join(" ").includes(s)||t.short_description.toLowerCase().includes(s))).filter(t=>{for(const s of o)if(t.language.includes(s))return!0;return!1}).filter(t=>{for(const s of u)if(t.name==s)return!0;return!1});return a.sort((t,s)=>t.name<s.name?-1:t.name>s.name?1:0),a});function y(){l(n).length===0?(i.set(!0),fetch("https://gpst-tools.herokuapp.com/api/tools").then(e=>e.json()).then(e=>{n.set(e),g.set([...l(m)].sort()),f.set(l(n).map(r=>r.name)),i.set(!1)}).catch(e=>(console.log(e),[]))):(n.set(l(n)),g.set([...l(m)].sort()),f.set(l(n).map(e=>e.name)),i.set(!1))}export{w as a,g as b,m as c,f as d,L as f,i as l,S as s,n as t,y as u};
