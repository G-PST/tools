import{O as g,P as u,C as f}from"./vendor-b06d7aa0.js";const c=(e,n)=>{const o=f(n),l=localStorage.getItem(e);return l!=null&&o.set(JSON.parse(l)),o.subscribe(r=>{[null,void 0].includes(r)?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}),window.addEventListener("storage",()=>{const r=localStorage.getItem(e);if(r==null)return;const t=JSON.parse(r);t!==u(o)&&o.set(t)}),o},i=f(!0),a=c("tools",[]),S=c("showAll",!1),m=c("searchQuery",""),w=g([a],([e])=>{const n=new Set;for(var o of e)o.language.map(l=>n.add(l));return n}),d=c("selectedLanguages",new Array),p=c("selectedTools",new Array),L=g([a,m,d,p],([e,n,o,l])=>{let r=e.filter(t=>n.toLowerCase().split(/[-./\\()"'\s,;<>~!@#$%^&*|+=[\]{}`~?:]/u).every(s=>t.name.toLowerCase().includes(s)||t.description.toLowerCase().includes(s)||t.modeling_paradigm.map(Function.prototype.call,String.prototype.toLowerCase).join(" ").includes(s)||t.language.map(Function.prototype.call,String.prototype.toLowerCase).join(" ").includes(s)||t.short_description.toLowerCase().includes(s))).filter(t=>{for(const s of o)if(t.language.includes(s))return!0;return!1}).filter(t=>{for(const s of l)if(t.name==s)return!0;return!1});return r.sort((t,s)=>t.name<s.name?-1:t.name>s.name?1:0),r});function y(){u(a).length===0?(i.set(!0),fetch("https://gpst-tools.herokuapp.com/api/tools").then(e=>e.json()).then(e=>{a.set(e),i.set(!1)}).catch(e=>(console.log(e),[]))):(a.set(u(a)),d.set([...u(w)].sort()),p.set(u(a).map(e=>e.name)),i.set(!1))}export{m as a,d as b,w as c,p as d,L as f,i as l,S as s,a as t,y as u};
