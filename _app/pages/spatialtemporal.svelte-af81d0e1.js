import{S as pe,i as ye,s as de,ae as ve,w as R,x as Y,y as Z,q as O,o as F,B as G,F as we,K as X,af as se,ag as xe,ah as ke,ai as W,aj as $e,ak as be,al as j,am as B,a as A,d as w,b as s,g as I,Y as ae,an as ie,_ as Me,t as re,h as le,J as q,j as Ee,$ as ue,a0 as fe,ao as oe,k as ee,e as H,l as _e,ab as Se,m as te,c as J,p as Te,n as Ve,ap as Ae,I as Ce,a1 as Ie,R as Le}from"../chunks/vendor-c1c72708.js";import{A as ze,L as De}from"../chunks/LanguageChipBox-018e6bfd.js";import{T as Ne}from"../chunks/ToolChipBox-53c737fa.js";import{f as qe,t as je,l as Be}from"../chunks/stores-ba889b8d.js";function Oe(){let l=[],e=[],t=1,n=1,f=5,p=.5,_=.2,g=1,m=30,b=30,y=3;function d(o,r,c){let $=r.length,v=0,u=r[o].x-c[o].x,a=c[o].y-r[o].y,h=Math.sqrt(u*u+a*a),S=!0;h>0&&(v+=h*_),u/=h,a/=h,u>0&&a>0?v+=0*y:u<0&&a>0?v+=1*y:u<0&&a<0?v+=2*y:v+=3*y;let L=r[o].x,z=r[o].y-r[o].height+2,C=r[o].x+r[o].width,D=r[o].y+2,N,K,P,Q,U,i,V;for(let M=0;M<$;M++)M!=o&&(S=k(c[o].x,r[o].x,c[M].x,r[M].x,c[o].y,r[o].y,c[M].y,r[M].y),S&&(v+=g),N=r[M].x,P=r[M].y-r[M].height+2,K=r[M].x+r[M].width,Q=r[M].y+2,U=Math.max(0,Math.min(K,C)-Math.max(N,L)),i=Math.max(0,Math.min(Q,D)-Math.max(P,z)),V=U*i,v+=V*m),N=c[M].x-c[M].r,P=c[M].y-c[M].r,K=c[M].x+c[M].r,Q=c[M].y+c[M].r,U=Math.max(0,Math.min(K,C)-Math.max(N,L)),i=Math.max(0,Math.min(Q,D)-Math.max(P,z)),V=U*i,v+=V*b;return v}function T(o){let r=Math.floor(Math.random()*l.length),c=l[r].x,$=l[r].y,v=d(r,l,e);l[r].x+=(Math.random()-.5)*f,l[r].y+=(Math.random()-.5)*f,l[r].x>t&&(l[r].x=c),l[r].x<0&&(l[r].x=c),l[r].y>n&&(l[r].y=$),l[r].y<0&&(l[r].y=$);let a=d(r,l,e)-v;Math.random()<Math.exp(-a/o)||(l[r].x=c,l[r].y=$)}function x(o){let r=Math.floor(Math.random()*l.length),c=l[r].x,$=l[r].y,v=d(r,l,e),u=(Math.random()-.5)*p,a=Math.sin(u),h=Math.cos(u);l[r].x-=e[r].x,l[r].y-=e[r].y;let S=l[r].x*h-l[r].y*a,L=l[r].x*a+l[r].y*h;l[r].x=S+e[r].x,l[r].y=L+e[r].y,l[r].x>t&&(l[r].x=c),l[r].x<0&&(l[r].x=c),l[r].y>n&&(l[r].y=$),l[r].y<0&&(l[r].y=$);let C=d(r,l,e)-v;Math.random()<Math.exp(-C/o)||(l[r].x=c,l[r].y=$)}function k(o,r,c,$,v,u,a,h){let S,L,z,C,D;return z=(h-a)*(r-o)-($-c)*(u-v),C=($-c)*(v-a)-(h-a)*(o-c),D=(r-o)*(v-a)-(u-v)*(o-c),S=C/z,L=D/z,!(S<0||S>1||L<0||L>1)}function E(o,r,c){return o-r/c}return{start(o){let r=l.length,c=1,$=1;for(let v=0;v<o;v++){for(let u=0;u<r;u++)Math.random()<.5?T(c):x(c);c=E(c,$,o)}return this},width(o){return arguments.length?(t=o,this):t},height(o){return arguments.length?(n=o,this):n},label(o){return arguments.length?(l=o,this):l},anchor(o){return arguments.length?(e=o,this):e}}}function he(l,e,t){const n=l.slice();return n[31]=e[t],n}function me(l,e,t){const n=l.slice();return n[31]=e[t],n}function ce(l,e){let t,n,f,p,_,g,m,b;return{key:l,first:null,c(){t=j("rect"),this.h()},l(y){t=B(y,"rect",{fill:!0,"stroke-dasharray":!0,"fill-opacity":!0,x:!0,y:!0,width:!0,height:!0,"stroke-width":!0,stroke:!0}),A(t).forEach(w),this.h()},h(){s(t,"fill",n=e[7](e[31])),s(t,"stroke-dasharray","4"),s(t,"fill-opacity","0.25"),s(t,"x",f=e[11](e[31],e[4])),s(t,"y",p=e[12](e[31],e[3])),s(t,"width",_=e[13](e[31],e[4])),s(t,"height",g=e[14](e[31],e[3])),s(t,"stroke-width","1"),s(t,"stroke","black"),this.first=t},m(y,d){I(y,t,d),m||(b=[ae(t,"mouseover",function(){ie(e[15](e[31]))&&e[15](e[31]).apply(this,arguments)}),ae(t,"focus",Je),ae(t,"mouseout",function(){ie(e[16](e[31]))&&e[16](e[31]).apply(this,arguments)}),ae(t,"blur",Ke)],m=!0)},p(y,d){e=y,d[0]&132&&n!==(n=e[7](e[31]))&&s(t,"fill",n),d[0]&20&&f!==(f=e[11](e[31],e[4]))&&s(t,"x",f),d[0]&12&&p!==(p=e[12](e[31],e[3]))&&s(t,"y",p),d[0]&20&&_!==(_=e[13](e[31],e[4]))&&s(t,"width",_),d[0]&12&&g!==(g=e[14](e[31],e[3]))&&s(t,"height",g)},d(y){y&&w(t),m=!1,Me(b)}}}function ge(l,e){let t,n=e[31].name+"",f,p,_,g,m,b,y,d,T,x,k,E;return{key:l,first:null,c(){t=j("text"),f=re(n),m=j("line"),x=j("circle"),this.h()},l(o){t=B(o,"text",{class:!0,id:!0,x:!0,y:!0});var r=A(t);f=le(r,n),r.forEach(w),m=B(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),A(m).forEach(w),x=B(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),A(x).forEach(w),this.h()},h(){s(t,"class","place-label"),s(t,"id",p=ne(e[31])),s(t,"x",_=e[31].x),s(t,"y",g=e[31].y),s(m,"x1",b=e[31].x),s(m,"y1",y=e[31].y),s(m,"x2",d=e[31].org_x),s(m,"y2",T=e[31].org_y),s(m,"stroke","black"),s(x,"cx",k=e[31].org_x),s(x,"cy",E=e[31].org_y),s(x,"r","2"),s(x,"fill","black"),this.first=t},m(o,r){I(o,t,r),q(t,f),I(o,m,r),I(o,x,r)},p(o,r){e=o,r[0]&64&&n!==(n=e[31].name+"")&&Ee(f,n),r[0]&64&&p!==(p=ne(e[31]))&&s(t,"id",p),r[0]&64&&_!==(_=e[31].x)&&s(t,"x",_),r[0]&64&&g!==(g=e[31].y)&&s(t,"y",g),r[0]&64&&b!==(b=e[31].x)&&s(m,"x1",b),r[0]&64&&y!==(y=e[31].y)&&s(m,"y1",y),r[0]&64&&d!==(d=e[31].org_x)&&s(m,"x2",d),r[0]&64&&T!==(T=e[31].org_y)&&s(m,"y2",T),r[0]&64&&k!==(k=e[31].org_x)&&s(x,"cx",k),r[0]&64&&E!==(E=e[31].org_y)&&s(x,"cy",E)},d(o){o&&w(t),o&&w(m),o&&w(x)}}}function Fe(l){let e,t,n,f,p,_,g,m,b,y,d=[],T=new Map,x,k=[],E=new Map,o,r=l[2];const c=u=>u[31].name;for(let u=0;u<r.length;u+=1){let a=me(l,r,u),h=c(a);T.set(h,d[u]=ce(h,a))}let $=l[6];const v=u=>u[31].name;for(let u=0;u<$.length;u+=1){let a=he(l,$,u),h=v(a);E.set(h,k[u]=ge(h,a))}return{c(){e=j("g"),t=j("g"),n=j("text"),f=re(`Temporal Span
      `),_=j("g"),g=j("text"),m=re(`Spatial Span
      `),y=j("g");for(let u=0;u<d.length;u+=1)d[u].c();x=j("g");for(let u=0;u<k.length;u+=1)k[u].c();this.h()},l(u){e=B(u,"g",{class:!0,transform:!0});var a=A(e);t=B(a,"g",{class:!0});var h=A(t);n=B(h,"text",{opacity:!0,fill:!0,y:!0,dy:!0,"font-size":!0,"text-anchor":!0,transform:!0});var S=A(n);f=le(S,`Temporal Span
      `),S.forEach(w),h.forEach(w),_=B(a,"g",{class:!0});var L=A(_);g=B(L,"text",{opacity:!0,fill:!0,y:!0,dy:!0,"font-size":!0,"text-anchor":!0,transform:!0});var z=A(g);m=le(z,`Spatial Span
      `),z.forEach(w),L.forEach(w),y=B(a,"g",{class:!0});var C=A(y);for(let N=0;N<d.length;N+=1)d[N].l(C);C.forEach(w),x=B(a,"g",{class:!0});var D=A(x);for(let N=0;N<k.length;N+=1)k[N].l(D);D.forEach(w),a.forEach(w),this.h()},h(){s(n,"opacity","1"),s(n,"fill","currentColor"),s(n,"y","9"),s(n,"dy","0.71em"),s(n,"font-size","12px"),s(n,"text-anchor","middle"),s(n,"transform",p="translate("+l[4]/2+" -50)"),s(t,"class","xaxis"),s(g,"opacity","1"),s(g,"fill","currentColor"),s(g,"y","9"),s(g,"dy","0.71em"),s(g,"font-size","12px"),s(g,"text-anchor","middle"),s(g,"transform",b="rotate(270) translate("+-l[3]/2+" "+-l[4]/15+")"),s(_,"class","yaxis"),s(y,"class","rects"),s(x,"class","labels"),s(e,"class","main"),s(e,"transform",o="translate("+l[4]/10+" "+l[3]/5+") scale(0.8 1)")},m(u,a){I(u,e,a),q(e,t),q(t,n),q(n,f),l[20](t),q(e,_),q(_,g),q(g,m),l[21](_),q(e,y);for(let h=0;h<d.length;h+=1)d[h].m(y,null);q(e,x);for(let h=0;h<k.length;h+=1)k[h].m(x,null);l[22](x)},p(u,a){a[0]&16&&p!==(p="translate("+u[4]/2+" -50)")&&s(n,"transform",p),a[0]&24&&b!==(b="rotate(270) translate("+-u[3]/2+" "+-u[4]/15+")")&&s(g,"transform",b),a[0]&129180&&(r=u[2],d=ue(d,a,c,1,u,r,T,y,fe,ce,null,me)),a[0]&64&&($=u[6],k=ue(k,a,v,1,u,$,E,x,fe,ge,null,he)),a[0]&24&&o!==(o="translate("+u[4]/10+" "+u[3]/5+") scale(0.8 1)")&&s(e,"transform",o)},d(u){u&&w(e),l[20](null),l[21](null);for(let a=0;a<d.length;a+=1)d[a].d();for(let a=0;a<k.length;a+=1)k[a].d();l[22](null)}}}function He(l){let e,t;return e=new ve({props:{$$slots:{default:[Fe]},$$scope:{ctx:l}}}),{c(){R(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,f){Z(e,n,f),t=!0},p(n,f){const p={};f[0]&255|f[1]&32&&(p.$$scope={dirty:f,ctx:n}),e.$set(p)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ne(l){return l.name.toLowerCase().replace(/[^A-Za-z0-9]/g,"")}const Je=()=>{},Ke=()=>{};function Re(l,e,t){let n,f,p,_,g,m,b,y;const{data:d,width:T,height:x}=we("LayerCake");X(l,d,i=>t(19,y=i)),X(l,T,i=>t(4,b=i)),X(l,x,i=>t(3,m=i));function k(i,V,M){return Math.abs(c(i)-r(i))*Math.abs(v(i)-$(i))}function E(i,V){return r(i)+(c(i)-r(i))/2}function o(i,V){return $(i)+(v(i)-$(i))/2}function r(i,V){return n(i.highest_temporal_resolution?i.highest_temporal_resolution:"N/A")-_}function c(i,V){return n(i.largest_temporal_scope?i.largest_temporal_scope:"N/A")+_}function $(i,V){return f(i.highest_spatial_resolution?i.highest_spatial_resolution:"N/A")-_}function v(i,V){return f(i.largest_spatial_scope?i.largest_spatial_scope:"N/A")+_}function u(i,V){return Math.abs(r(i)-c(i))}function a(i,V){return Math.abs($(i)-v(i))}let h=null,S=null;function L(i){return function(){W(this).attr("stroke-width",3),W("#"+ne(i)).attr("font-weight","bold")}}function z(i){return function(){W(this).attr("stroke-width",1),W("#"+ne(i)).attr("font-weight","normal")}}let C=null,D={label:()=>[]};function N(i,V,M){return D.label()}let K=[];function P(i){oe[i?"unshift":"push"](()=>{h=i,t(0,h)})}function Q(i){oe[i?"unshift":"push"](()=>{S=i,t(1,S)})}function U(i){oe[i?"unshift":"push"](()=>{C=i,t(5,C)})}return l.$$.update=()=>{l.$$.dirty[0]&16&&t(18,n=se().domain(["","instant","milliseconds","seconds","minutes","hours","days","months","years","decades","N/A"]).range([0,b])),l.$$.dirty[0]&8&&t(17,f=se().domain(["","component","device","facility","municipality","county","state","region","country","continent","global","N/A"]).range([0,m])),l.$$.dirty[0]&524288&&t(7,p=xe().domain(y.tools).range(ke)),l.$$.dirty[0]&524312&&t(2,g=y.ftools.sort((i,V)=>k(i)<k(V)?1:k(i)>k(V)?-1:0)),l.$$.dirty[0]&393219&&(W(h).call($e(n)),W(S).call(be(f))),l.$$.dirty[0]&28&&(D=Oe().label(g.map(i=>{const V=E(i),M=o(i);return{name:i.name,x:V,y:M,org_x:V,org_y:M,width:18,height:7.2}})).anchor(g.map(i=>({x:E(i),y:o(i),r:10}))).width(b).height(m).start(1500)),l.$$.dirty[0]&28&&t(6,K=N())},_=5,[h,S,g,m,b,C,K,p,d,T,x,r,$,u,a,L,z,f,n,y,P,Q,U]}class Ye extends pe{constructor(e){super();ye(this,e,Re,He,de,{},null,[-1,-1])}}function Ze(l){let e,t,n;return t=new Ae({props:{data:l[0],$$slots:{default:[Pe]},$$scope:{ctx:l}}}),{c(){e=H("div"),R(t.$$.fragment),this.h()},l(f){e=J(f,"DIV",{class:!0});var p=A(e);Y(t.$$.fragment,p),p.forEach(w),this.h()},h(){s(e,"class","grid my-4 w-full h-1/2 place-items-center")},m(f,p){I(f,e,p),Z(t,e,null),n=!0},p(f,p){const _={};p&1&&(_.data=f[0]),p&32&&(_.$$scope={dirty:p,ctx:f}),t.$set(_)},i(f){n||(O(t.$$.fragment,f),n=!0)},o(f){F(t.$$.fragment,f),n=!1},d(f){f&&w(e),G(t)}}}function Ge(l){let e,t,n,f,p;return n=new Ce({props:{class:"w-4 h-4 mr-2 fill-current",data:Ie,spin:!0}}),{c(){e=H("div"),t=H("div"),R(n.$$.fragment),f=re(`
      Loading...`),this.h()},l(_){e=J(_,"DIV",{class:!0});var g=A(e);t=J(g,"DIV",{class:!0,role:!0});var m=A(t);Y(n.$$.fragment,m),f=le(m,`
      Loading...`),m.forEach(w),g.forEach(w),this.h()},h(){s(t,"class","bg-yellow-100 rounded-lg py-5 px-6 mb-3 text-base text-yellow-700 inline-flex items-center w-full"),s(t,"role","alert"),s(e,"class","grid-flow-row mx-20 my-4")},m(_,g){I(_,e,g),q(e,t),Z(n,t,null),q(t,f),p=!0},p:Le,i(_){p||(O(n.$$.fragment,_),p=!0)},o(_){F(n.$$.fragment,_),p=!1},d(_){_&&w(e),G(n)}}}function Pe(l){let e,t;return e=new Ye({}),{c(){R(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,f){Z(e,n,f),t=!0},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Qe(l){let e,t,n,f,p,_,g,m,b,y,d,T,x,k,E,o,r,c;g=new ze({}),y=new Ne({}),x=new De({});const $=[Ge,Ze],v=[];function u(a,h){return a[1]?0:1}return E=u(l),o=v[E]=$[E](l),{c(){e=ee(),t=H("div"),n=H("h1"),f=re("Spatial Temporal Visualization"),p=ee(),_=H("div"),R(g.$$.fragment),m=ee(),b=H("div"),R(y.$$.fragment),d=ee(),T=H("div"),R(x.$$.fragment),k=ee(),o.c(),r=_e(),this.h()},l(a){Se('[data-svelte="svelte-1dpoyov"]',document.head).forEach(w),e=te(a),t=J(a,"DIV",{class:!0});var S=A(t);n=J(S,"H1",{class:!0});var L=A(n);f=le(L,"Spatial Temporal Visualization"),L.forEach(w),S.forEach(w),p=te(a),_=J(a,"DIV",{class:!0});var z=A(_);Y(g.$$.fragment,z),z.forEach(w),m=te(a),b=J(a,"DIV",{class:!0});var C=A(b);Y(y.$$.fragment,C),C.forEach(w),d=te(a),T=J(a,"DIV",{class:!0});var D=A(T);Y(x.$$.fragment,D),D.forEach(w),k=te(a),o.l(a),r=_e(),this.h()},h(){document.title="Spatial Temporal Visualization",s(n,"class","text-4xl font-medium leading-tight mt-0 mb-2"),s(t,"class","grid mx-20 mt-6"),s(_,"class","grid mx-20 my-4 place-items-center"),s(b,"class","grid mx-20 my-4 place-items-center"),s(T,"class","grid mx-20 my-4 place-items-center")},m(a,h){I(a,e,h),I(a,t,h),q(t,n),q(n,f),I(a,p,h),I(a,_,h),Z(g,_,null),I(a,m,h),I(a,b,h),Z(y,b,null),I(a,d,h),I(a,T,h),Z(x,T,null),I(a,k,h),v[E].m(a,h),I(a,r,h),c=!0},p(a,[h]){let S=E;E=u(a),E===S?v[E].p(a,h):(Ve(),F(v[S],1,1,()=>{v[S]=null}),Te(),o=v[E],o?o.p(a,h):(o=v[E]=$[E](a),o.c()),O(o,1),o.m(r.parentNode,r))},i(a){c||(O(g.$$.fragment,a),O(y.$$.fragment,a),O(x.$$.fragment,a),O(o),c=!0)},o(a){F(g.$$.fragment,a),F(y.$$.fragment,a),F(x.$$.fragment,a),F(o),c=!1},d(a){a&&w(e),a&&w(t),a&&w(p),a&&w(_),G(g),a&&w(m),a&&w(b),G(y),a&&w(d),a&&w(T),G(x),a&&w(k),v[E].d(a),a&&w(r)}}}function Ue(l,e,t){let n,f,p,_;X(l,qe,m=>t(2,f=m)),X(l,je,m=>t(3,p=m)),X(l,Be,m=>t(1,_=m));function g(m){return{ftools:m,tools:p}}return l.$$.update=()=>{l.$$.dirty&4&&t(0,n=g(f))},[n,_,f]}class rt extends pe{constructor(e){super();ye(this,e,Ue,Qe,de,{})}}export{rt as default};
