import{S as oe,i as ie,s as ue,ad as ve,v as X,w as F,x as G,p as H,n as O,A as K,D as we,J as U,ae as fe,af as ke,ag as xe,ah as W,ai as $e,aj as be,ak as B,al as q,a as C,d,b as o,f as L,X as ae,am as _e,Z as Me,t as Y,g as ee,H as N,h as Ee,_ as he,$ as me,an as se,j as te,e as J,k as ce,aa as Se,l as le,c as Q,o as Te,m as Ce,ao as Ae,I as Le,a0 as Ve,Q as De}from"../chunks/vendor-fe1d1a48.js";import{A as Ie,L as ze}from"../chunks/LanguageChipBox-6541a130.js";import{T as je}from"../chunks/ToolChipBox-e2c44d6b.js";import{f as Ne,t as Be,l as qe}from"../chunks/stores-4bb92409.js";function He(){let a=[],e=[],t=1,n=1,f=5,p=.5,_=.2,c=1,h=30,x=30,v=3;function y(s,l,g){let M=l.length,w=0,i=l[s].x-g[s].x,r=g[s].y-l[s].y,m=Math.sqrt(i*i+r*r),T=!0;m>0&&(w+=m*_),i/=m,r/=m,i>0&&r>0?w+=0*v:i<0&&r>0?w+=1*v:i<0&&r<0?w+=2*v:w+=3*v;let A=l[s].x,V=l[s].y-l[s].height+2,I=l[s].x+l[s].width,z=l[s].y+2,j,P,R,u,D,Z,re;for(let E=0;E<M;E++)E!=s&&(T=b(g[s].x,l[s].x,g[E].x,l[E].x,g[s].y,l[s].y,g[E].y,l[E].y),T&&(w+=c),j=l[E].x,R=l[E].y-l[E].height+2,P=l[E].x+l[E].width,u=l[E].y+2,D=Math.max(0,Math.min(P,I)-Math.max(j,A)),Z=Math.max(0,Math.min(u,z)-Math.max(R,V)),re=D*Z,w+=re*h),j=g[E].x-g[E].r,R=g[E].y-g[E].r,P=g[E].x+g[E].r,u=g[E].y+g[E].r,D=Math.max(0,Math.min(P,I)-Math.max(j,A)),Z=Math.max(0,Math.min(u,z)-Math.max(R,V)),re=D*Z,w+=re*x;return w}function S(s){let l=Math.floor(Math.random()*a.length),g=a[l].x,M=a[l].y,w=y(l,a,e);a[l].x+=(Math.random()-.5)*f,a[l].y+=(Math.random()-.5)*f,a[l].x>t&&(a[l].x=g),a[l].x<0&&(a[l].x=g),a[l].y>n&&(a[l].y=M),a[l].y<0&&(a[l].y=M);let r=y(l,a,e)-w;Math.random()<Math.exp(-r/s)||(a[l].x=g,a[l].y=M)}function k(s){let l=Math.floor(Math.random()*a.length),g=a[l].x,M=a[l].y,w=y(l,a,e),i=(Math.random()-.5)*p,r=Math.sin(i),m=Math.cos(i);a[l].x-=e[l].x,a[l].y-=e[l].y;let T=a[l].x*m-a[l].y*r,A=a[l].x*r+a[l].y*m;a[l].x=T+e[l].x,a[l].y=A+e[l].y,a[l].x>t&&(a[l].x=g),a[l].x<0&&(a[l].x=g),a[l].y>n&&(a[l].y=M),a[l].y<0&&(a[l].y=M);let I=y(l,a,e)-w;Math.random()<Math.exp(-I/s)||(a[l].x=g,a[l].y=M)}function b(s,l,g,M,w,i,r,m){let T,A,V,I,z;return V=(m-r)*(l-s)-(M-g)*(i-w),I=(M-g)*(w-r)-(m-r)*(s-g),z=(l-s)*(w-r)-(i-w)*(s-g),T=I/V,A=z/V,!(T<0||T>1||A<0||A>1)}function $(s,l,g){return s-l/g}return{start(s){let l=a.length,g=1,M=1;for(let w=0;w<s;w++){for(let i=0;i<l;i++)Math.random()<.5?S(g):k(g);g=$(g,M,s)}return this},width(s){return arguments.length?(t=s,this):t},height(s){return arguments.length?(n=s,this):n},label(s){return arguments.length?(a=s,this):a},anchor(s){return arguments.length?(e=s,this):e}}}function ge(a,e,t){const n=a.slice();return n[29]=e[t],n}function pe(a,e,t){const n=a.slice();return n[29]=e[t],n}function ye(a,e){let t,n,f,p,_,c,h,x;return{key:a,first:null,c(){t=B("rect"),this.h()},l(v){t=q(v,"rect",{fill:!0,"stroke-dasharray":!0,"fill-opacity":!0,x:!0,y:!0,width:!0,height:!0,"stroke-width":!0,stroke:!0}),C(t).forEach(d),this.h()},h(){o(t,"fill",n=e[7](e[29])),o(t,"stroke-dasharray","4"),o(t,"fill-opacity","0.25"),o(t,"x",f=e[11](e[29],e[3])),o(t,"y",p=e[12](e[29],e[2])),o(t,"width",_=e[13](e[29],e[3])),o(t,"height",c=e[14](e[29],e[2])),o(t,"stroke-width","1"),o(t,"stroke","black"),this.first=t},m(v,y){L(v,t,y),h||(x=[ae(t,"mouseover",function(){_e(e[15](e[29]))&&e[15](e[29]).apply(this,arguments)}),ae(t,"focus",Je),ae(t,"mouseout",function(){_e(e[16](e[29]))&&e[16](e[29]).apply(this,arguments)}),ae(t,"blur",Qe)],h=!0)},p(v,y){e=v,y[0]&144&&n!==(n=e[7](e[29]))&&o(t,"fill",n),y[0]&24&&f!==(f=e[11](e[29],e[3]))&&o(t,"x",f),y[0]&20&&p!==(p=e[12](e[29],e[2]))&&o(t,"y",p),y[0]&24&&_!==(_=e[13](e[29],e[3]))&&o(t,"width",_),y[0]&20&&c!==(c=e[14](e[29],e[2]))&&o(t,"height",c)},d(v){v&&d(t),h=!1,Me(x)}}}function de(a,e){let t,n=e[29].name+"",f,p,_,c,h,x,v,y,S,k,b,$;return{key:a,first:null,c(){t=B("text"),f=Y(n),h=B("line"),k=B("circle"),this.h()},l(s){t=q(s,"text",{class:!0,id:!0,x:!0,y:!0});var l=C(t);f=ee(l,n),l.forEach(d),h=q(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0}),C(h).forEach(d),k=q(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),C(k).forEach(d),this.h()},h(){o(t,"class","place-label"),o(t,"id",p=ne(e[29])),o(t,"x",_=e[29].x),o(t,"y",c=e[29].y),o(h,"x1",x=e[29].x),o(h,"y1",v=e[29].y),o(h,"x2",y=e[29].org_x),o(h,"y2",S=e[29].org_y),o(h,"stroke","black"),o(k,"cx",b=e[29].org_x),o(k,"cy",$=e[29].org_y),o(k,"r","2"),o(k,"fill","black"),this.first=t},m(s,l){L(s,t,l),N(t,f),L(s,h,l),L(s,k,l)},p(s,l){e=s,l[0]&64&&n!==(n=e[29].name+"")&&Ee(f,n),l[0]&64&&p!==(p=ne(e[29]))&&o(t,"id",p),l[0]&64&&_!==(_=e[29].x)&&o(t,"x",_),l[0]&64&&c!==(c=e[29].y)&&o(t,"y",c),l[0]&64&&x!==(x=e[29].x)&&o(h,"x1",x),l[0]&64&&v!==(v=e[29].y)&&o(h,"y1",v),l[0]&64&&y!==(y=e[29].org_x)&&o(h,"x2",y),l[0]&64&&S!==(S=e[29].org_y)&&o(h,"y2",S),l[0]&64&&b!==(b=e[29].org_x)&&o(k,"cx",b),l[0]&64&&$!==($=e[29].org_y)&&o(k,"cy",$)},d(s){s&&d(t),s&&d(h),s&&d(k)}}}function Oe(a){let e,t,n,f,p,_,c,h,x,v,y=[],S=new Map,k,b=[],$=new Map,s,l=a[4].ftools;const g=i=>i[29].name;for(let i=0;i<l.length;i+=1){let r=pe(a,l,i),m=g(r);S.set(m,y[i]=ye(m,r))}let M=a[6];const w=i=>i[29].name;for(let i=0;i<M.length;i+=1){let r=ge(a,M,i),m=w(r);$.set(m,b[i]=de(m,r))}return{c(){e=B("g"),t=B("g"),n=B("text"),f=Y(`Temporal Span
      `),_=B("g"),c=B("text"),h=Y(`Spatial Span
      `),v=B("g");for(let i=0;i<y.length;i+=1)y[i].c();k=B("g");for(let i=0;i<b.length;i+=1)b[i].c();this.h()},l(i){e=q(i,"g",{class:!0,transform:!0});var r=C(e);t=q(r,"g",{class:!0});var m=C(t);n=q(m,"text",{opacity:!0,fill:!0,y:!0,dy:!0,"font-size":!0,"text-anchor":!0,transform:!0});var T=C(n);f=ee(T,`Temporal Span
      `),T.forEach(d),m.forEach(d),_=q(r,"g",{class:!0});var A=C(_);c=q(A,"text",{opacity:!0,fill:!0,y:!0,dy:!0,"font-size":!0,"text-anchor":!0,transform:!0});var V=C(c);h=ee(V,`Spatial Span
      `),V.forEach(d),A.forEach(d),v=q(r,"g",{class:!0});var I=C(v);for(let j=0;j<y.length;j+=1)y[j].l(I);I.forEach(d),k=q(r,"g",{class:!0});var z=C(k);for(let j=0;j<b.length;j+=1)b[j].l(z);z.forEach(d),r.forEach(d),this.h()},h(){o(n,"opacity","1"),o(n,"fill","currentColor"),o(n,"y","9"),o(n,"dy","0.71em"),o(n,"font-size","12px"),o(n,"text-anchor","middle"),o(n,"transform",p="translate("+a[3]/2+" -50)"),o(t,"class","xaxis"),o(c,"opacity","1"),o(c,"fill","currentColor"),o(c,"y","9"),o(c,"dy","0.71em"),o(c,"font-size","12px"),o(c,"text-anchor","middle"),o(c,"transform",x="rotate(270) translate("+-a[2]/2+" "+-a[3]/15+")"),o(_,"class","yaxis"),o(v,"class","rects"),o(k,"class","labels"),o(e,"class","main"),o(e,"transform",s="translate("+a[3]/10+" "+a[2]/5+") scale(0.8 1)")},m(i,r){L(i,e,r),N(e,t),N(t,n),N(n,f),a[19](t),N(e,_),N(_,c),N(c,h),a[20](_),N(e,v);for(let m=0;m<y.length;m+=1)y[m].m(v,null);N(e,k);for(let m=0;m<b.length;m+=1)b[m].m(k,null);a[21](k)},p(i,r){r[0]&8&&p!==(p="translate("+i[3]/2+" -50)")&&o(n,"transform",p),r[0]&12&&x!==(x="rotate(270) translate("+-i[2]/2+" "+-i[3]/15+")")&&o(c,"transform",x),r[0]&129180&&(l=i[4].ftools,y=he(y,r,g,1,i,l,S,v,me,ye,null,pe)),r[0]&64&&(M=i[6],b=he(b,r,w,1,i,M,$,k,me,de,null,ge)),r[0]&12&&s!==(s="translate("+i[3]/10+" "+i[2]/5+") scale(0.8 1)")&&o(e,"transform",s)},d(i){i&&d(e),a[19](null),a[20](null);for(let r=0;r<y.length;r+=1)y[r].d();for(let r=0;r<b.length;r+=1)b[r].d();a[21](null)}}}function Ze(a){let e,t;return e=new ve({props:{$$slots:{default:[Oe]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,f){G(e,n,f),t=!0},p(n,f){const p={};f[0]&255|f[1]&8&&(p.$$scope={dirty:f,ctx:n}),e.$set(p)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ne(a){return a.name.toLowerCase().replace(/[^A-Za-z0-9]/g,"")}const Je=()=>{},Qe=()=>{};function Xe(a,e,t){let n,f,p,_,c,h,x;const{data:v,width:y,height:S}=we("LayerCake");U(a,v,u=>t(4,x=u)),U(a,y,u=>t(3,h=u)),U(a,S,u=>t(2,c=u));function k(u,D){return $(u)+(s(u)-$(u))/2}function b(u,D){return l(u)+(g(u)-l(u))/2}function $(u,D){return n(u.highest_temporal_resolution?u.highest_temporal_resolution:"N/A")-_}function s(u,D){return n(u.largest_temporal_scope?u.largest_temporal_scope:"N/A")+_}function l(u,D){return f(u.highest_spatial_resolution?u.highest_spatial_resolution:"N/A")-_}function g(u,D){return f(u.largest_spatial_scope?u.largest_spatial_scope:"N/A")+_}function M(u,D){return Math.abs($(u)-s(u))}function w(u,D){return Math.abs(l(u)-g(u))}let i=null,r=null;function m(u){return function(){W(this).attr("stroke-width",3),W("#"+ne(u)).attr("font-weight","bold")}}function T(u){return function(){W(this).attr("stroke-width",1),W("#"+ne(u)).attr("font-weight","normal")}}let A=null,V={label:()=>[]};function I(u,D,Z){return V.label()}let z=[];function j(u){se[u?"unshift":"push"](()=>{i=u,t(0,i)})}function P(u){se[u?"unshift":"push"](()=>{r=u,t(1,r)})}function R(u){se[u?"unshift":"push"](()=>{A=u,t(5,A)})}return a.$$.update=()=>{a.$$.dirty[0]&8&&t(18,n=fe().domain(["","instant","milliseconds","seconds","minutes","hours","days","months","years","decades","N/A"]).range([0,h])),a.$$.dirty[0]&4&&t(17,f=fe().domain(["","component","device","facility","municipality","county","state","region","country","continent","global","N/A"]).range([0,c])),a.$$.dirty[0]&16&&t(7,p=ke().domain(x.tools).range(xe)),a.$$.dirty[0]&393219&&(W(i).call($e(n)),W(r).call(be(f))),a.$$.dirty[0]&28&&(V=He().label(x.ftools.map(u=>{const D=k(u),Z=b(u);return{name:u.name,x:D,y:Z,org_x:D,org_y:Z,width:18,height:7.2}})).anchor(x.ftools.map(u=>({x:k(u),y:b(u),r:10}))).width(h).height(c).start(1500)),a.$$.dirty[0]&28&&t(6,z=I(x.ftools))},_=5,[i,r,c,h,x,A,z,p,v,y,S,$,l,M,w,m,T,f,n,j,P,R]}class Fe extends oe{constructor(e){super();ie(this,e,Xe,Ze,ue,{},null,[-1,-1])}}function Ge(a){let e,t,n;return t=new Ae({props:{data:a[0],$$slots:{default:[Pe]},$$scope:{ctx:a}}}),{c(){e=J("div"),X(t.$$.fragment),this.h()},l(f){e=Q(f,"DIV",{class:!0});var p=C(e);F(t.$$.fragment,p),p.forEach(d),this.h()},h(){o(e,"class","grid my-4 w-full h-1/2 place-items-center")},m(f,p){L(f,e,p),G(t,e,null),n=!0},p(f,p){const _={};p&1&&(_.data=f[0]),p&32&&(_.$$scope={dirty:p,ctx:f}),t.$set(_)},i(f){n||(H(t.$$.fragment,f),n=!0)},o(f){O(t.$$.fragment,f),n=!1},d(f){f&&d(e),K(t)}}}function Ke(a){let e,t,n,f,p;return n=new Le({props:{class:"w-4 h-4 mr-2 fill-current",data:Ve,spin:!0}}),{c(){e=J("div"),t=J("div"),X(n.$$.fragment),f=Y(`
      Loading...`),this.h()},l(_){e=Q(_,"DIV",{class:!0});var c=C(e);t=Q(c,"DIV",{class:!0,role:!0});var h=C(t);F(n.$$.fragment,h),f=ee(h,`
      Loading...`),h.forEach(d),c.forEach(d),this.h()},h(){o(t,"class","bg-yellow-100 rounded-lg py-5 px-6 mb-3 text-base text-yellow-700 inline-flex items-center w-full"),o(t,"role","alert"),o(e,"class","grid-flow-row mx-20 my-4")},m(_,c){L(_,e,c),N(e,t),G(n,t,null),N(t,f),p=!0},p:De,i(_){p||(H(n.$$.fragment,_),p=!0)},o(_){O(n.$$.fragment,_),p=!1},d(_){_&&d(e),K(n)}}}function Pe(a){let e,t;return e=new Fe({}),{c(){X(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,f){G(e,n,f),t=!0},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Re(a){let e,t,n,f,p,_,c,h,x,v,y,S,k,b,$,s,l,g;c=new Ie({}),v=new je({}),k=new ze({});const M=[Ke,Ge],w=[];function i(r,m){return r[1]?0:1}return $=i(a),s=w[$]=M[$](a),{c(){e=te(),t=J("div"),n=J("h1"),f=Y("Spatial Temporal Visualization"),p=te(),_=J("div"),X(c.$$.fragment),h=te(),x=J("div"),X(v.$$.fragment),y=te(),S=J("div"),X(k.$$.fragment),b=te(),s.c(),l=ce(),this.h()},l(r){Se('[data-svelte="svelte-1dpoyov"]',document.head).forEach(d),e=le(r),t=Q(r,"DIV",{class:!0});var T=C(t);n=Q(T,"H1",{class:!0});var A=C(n);f=ee(A,"Spatial Temporal Visualization"),A.forEach(d),T.forEach(d),p=le(r),_=Q(r,"DIV",{class:!0});var V=C(_);F(c.$$.fragment,V),V.forEach(d),h=le(r),x=Q(r,"DIV",{class:!0});var I=C(x);F(v.$$.fragment,I),I.forEach(d),y=le(r),S=Q(r,"DIV",{class:!0});var z=C(S);F(k.$$.fragment,z),z.forEach(d),b=le(r),s.l(r),l=ce(),this.h()},h(){document.title="Spatial Temporal Visualization",o(n,"class","text-4xl font-medium leading-tight mt-0 mb-2"),o(t,"class","grid mx-20 mt-6"),o(_,"class","grid mx-20 my-4 place-items-center"),o(x,"class","grid mx-20 my-4 place-items-center"),o(S,"class","grid mx-20 my-4 place-items-center")},m(r,m){L(r,e,m),L(r,t,m),N(t,n),N(n,f),L(r,p,m),L(r,_,m),G(c,_,null),L(r,h,m),L(r,x,m),G(v,x,null),L(r,y,m),L(r,S,m),G(k,S,null),L(r,b,m),w[$].m(r,m),L(r,l,m),g=!0},p(r,[m]){let T=$;$=i(r),$===T?w[$].p(r,m):(Ce(),O(w[T],1,1,()=>{w[T]=null}),Te(),s=w[$],s?s.p(r,m):(s=w[$]=M[$](r),s.c()),H(s,1),s.m(l.parentNode,l))},i(r){g||(H(c.$$.fragment,r),H(v.$$.fragment,r),H(k.$$.fragment,r),H(s),g=!0)},o(r){O(c.$$.fragment,r),O(v.$$.fragment,r),O(k.$$.fragment,r),O(s),g=!1},d(r){r&&d(e),r&&d(t),r&&d(p),r&&d(_),K(c),r&&d(h),r&&d(x),K(v),r&&d(y),r&&d(S),K(k),r&&d(b),w[$].d(r),r&&d(l)}}}function Ue(a,e,t){let n,f,p,_;U(a,Ne,h=>t(2,f=h)),U(a,Be,h=>t(3,p=h)),U(a,qe,h=>t(1,_=h));function c(h){return{ftools:h,tools:p}}return a.$$.update=()=>{a.$$.dirty&4&&t(0,n=c(f))},[n,_,f]}class lt extends oe{constructor(e){super();ie(this,e,Ue,Re,ue,{})}}export{lt as default};
